<!-- Ajouter Adherent -->

<mat-card class="shipping-card"  (onUploadFinished)="uploadFinished($event)">
  <mat-card-title>Ajouter un adhérent</mat-card-title>
  <mat-card-content>Veuillez remplir les champs suivants:</mat-card-content>
  <form [formGroup]="adherentForm" (ngSubmit)="onSubmit(adherentForm)">
    <div class="row" style="margin-bottom:15px;">
      <div class="col-md-3">
        <input type="file" #file placeholder="Choose file"  formArrayName="photo"         (change)="uploadFile(file.files)" style="display:none;">
        <button type="button" class="btn btn-success" (click)="file.click()">Ajouter une image</button>
      </div>
      <div class="col-md-4">
        <span class="upload" *ngIf="progress > 0">
          {{progress}}%
        </span>
        <span class="upload" *ngIf="message">
          {{message}}
        </span>
      </div>
    </div>
    <mat-form-field appearance="outline" class="full-width" hidden>
      <mat-label>{{ this.auth.getOrganisme() }} </mat-label>
      <input disabled matInput type="text" formControlName="association" required
        [placeholder]="this.auth.getOrganisme()" />
    </mat-form-field>
    <div class="row">
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Nom  </mat-label>
          <input matInput type="text" formControlName="nom_fr" required  />
        </mat-form-field>
      </div>
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Prénom </mat-label>
          <input matInput type="text" formControlName="prenom_fr" required />
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Date de naissance</mat-label>
          <input matInput [matDatepicker]="debut" formControlName="date_nais" />
          <mat-datepicker-toggle matSuffix [for]="debut"></mat-datepicker-toggle>
          <mat-datepicker #debut startView="year" [startAt]="2021"></mat-datepicker>
        </mat-form-field>
      </div>
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Lieu de naissance </mat-label>
          <input matInput type="text" formControlName="lieu_nais_fr" required />
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>N° CIN</mat-label>
          <input matInput type="text" formControlName="cin" required />
        </mat-form-field>
      </div>
    </div>




    <div class="row">
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Adresse</mat-label>
          <textarea matInput type="text" formControlName="adresse_fr" required></textarea>
        </mat-form-field>
      </div>
    </div>

    <div class="row">
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Ville</mat-label>
          <input matInput type="text" formControlName="ville_fr" required />
        </mat-form-field>
      </div>
      <div class="col">
        <mat-form-field class="full-width">
          <mat-select placeholder="Gouvernorat">
            <mat-option *ngFor="let gouv of gouvs" [value]="gouv.value">
              {{ gouv.value }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Code postal</mat-label>
          <input matInput type="text" formControlName="cp" required />
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Téléphone</mat-label>
          <input matInput type="text" formControlName="telephone" required />
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Email</mat-label>
          <input matInput type="email" formControlName="email" required />
        </mat-form-field>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <mat-form-field class="full-width">
          <mat-label>Numéro d'adhésion</mat-label>
          <input matInput type="text" formControlName="num_adhesion" required />
        </mat-form-field>

      </div>
    </div>



    <mat-card-actions align="end">
      <button mat-raised-button [routerLink]="['/listeadherents']">Retour</button>

      <button mat-raised-button color="primary" type="submit" [disabled]="">
        Ajouter
      </button>
    </mat-card-actions>
  </form>
</mat-card>

<!-- Adherent Table -->
